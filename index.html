<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/x-icon" href="icons/pegaraw.jpg">
  <title>Sansinukob</title>
</head>
<body>


  <div class="titlescreen">

  <div class="logo">
    <img src="icons/logo.png" alt="Logo">
  </div>

  <div class="container">

  <a class="btn" href="#timer">
    <img src="icons/start.png" alt="Start Button">
  </a>
  <a href="#about" class="btn">
    <img src="icons/about.png" alt="About Button">
  </a>
  </div>

  </div>

  <div class="image-overlay-wrapper">
  <img src="icons/tree.png" alt="tree" class="top-image1">
   <img src="icons/cat.png" alt="cat" class="top-image2">
</div>

<a id="about"></a>
  <div class="about">
  <img src="icons/about-header1.png" alt="About Header"  id="about-header1">


  <div id="about-header2">
    <img src="icons/about-header2.png" alt="About Header2" >
  </div>

  <p>
    As a farmer, your goal is to stay productive while harvesting a variety of plants each day. Each study session helps your plants grow, and every plant has its own growth time before it can be harvested. As you progress, you’ll unlock rarer plants to grow and collect. Take on the challenge, accomplish your tasks, and build a flourishing collection!
  </p>

  <hr/>

   <div id="about-header2">
    <img src="icons/about-header3.png" alt="About Header2" >
  </div>

<hr/>
  

  <p>
    Sansinukob is a nonprofit Pomodoro timer website and farming simulator heavily inspired by Stardew Valley. It features pixelated native and genetically modified plants from UPLB’s Makiling Botanic Garden (e.g., Mussaenda philippica). It serves as an official entry to the CodeSprout 2025 Hackathon developed by UPLB BS Computer Science students. Special acknowledgement is given to Stardew Valley for being the primary creative inspiration behind the project.
  </p>

</div>

  <a id="timer"></a>
<div class="timer">
  <ul class="menu">
    <li><a id="menu"><img src="icons/menu.png" alt="menu Button"></a></li>
    <li><a id="play"><img src="icons/play.png" alt="play Button"></a></li>
    <li><a id="pause"><img src="icons/pause.png" alt="pause Button"></a></li>
  </ul>

  
    <div class="counter">
    <h1 id="timer-display" >25:00</h1>
    <h3 id="flowerdisplay"> UNDER DEVELOPMENT </h3>

  </div>
  </div>

<!-- MARCO -->

</body>

//qwery

<script>
// --- state ---
// --- state ---
var totalSeconds = 3600;
var timer = null;
var isPaused = false;

// flags
var timeFinished = false;
var work = true;
var sBreak = false;
var lBreak = false;

const setBtn = document.getElementById("set-btn");

// inputs (minutes)
let worktime = 0;     // minutes (from UI)
let sBreaktime = 0;   // minutes (from UI)
let lBreaktime = 0;   // minutes (from UI)
let bMaxCounter = 0;  // counter (from UI)

// internal (seconds)
let workSeconds = 0;
let sBreakSeconds = 0;
let lBreakSeconds = 0;

let breakCounter = 0; // how many short breaks taken
let work = true;
let sBreak = false;
let lBreak = false;
let timeDone = false;

if(work = true, sBreak = false, lBreak = false, breakCounter > bMaxCounter){
  totalSeconds = workSeconds;
  work = false; sBreak = true;
  
} else if (work = false, sBreak = true, lBreak = false){
  totalSeconds = sBreakSeconds;
} else if (work = false, sBreak = false, lBreak = true){
  totalSeconds = lBreakSeconds;
}


// --- helpers (minutes <-> seconds) ---
function minutesToSeconds(minutes) {
  return Math.max(0, Math.floor(minutes * 60));
}

function secondsToMinutes(seconds) {
  return Math.max(0, Math.floor(seconds / 60));
}

// --- set time settings ---
setBtn.onclick = function () {
  // Read numeric values from number inputs
  const w  = document.getElementById("worktime").valueAsNumber;
  const sb = document.getElementById("sBreak").valueAsNumber;
  const lb = document.getElementById("lBreak").valueAsNumber;
  const bc = document.getElementById("bMaxCounter").valueAsNumber;

  // Fallback if any are empty
  worktime    = Number.isFinite(w)  ? w  : 0;
  sBreaktime  = Number.isFinite(sb) ? sb : 0;
  lBreaktime  = Number.isFinite(lb) ? lb : 0;
  bMaxCounter = Number.isFinite(bc) ? bc : 0;

  // Convert minutes (UI) -> seconds (internal)
  workSeconds   = minutesToSeconds(worktime);
  sBreakSeconds = minutesToSeconds(sBreaktime);
  lBreakSeconds = minutesToSeconds(lBreaktime);

  

  // Show minutes back to the user (as entered)
  document.getElementById("timeSet").innerText =
`Work Time: ${worktime} min
Short Break: ${sBreaktime} min
Long Break: ${lBreaktime} min
Break Max Counter: ${bMaxCounter}`;


  // Debug for console, show internal seconds
  console.log({ workSeconds, sBreakSeconds, lBreakSeconds, bMaxCounter, totalSeconds });
};



//S O S, jscript is so ass, tulong auq n



  //format ms to minute second
  function formatTime(sec) {
    let minutes = Math.floor((sec % 3600) / 60);
    let seconds = sec % 60;
    return (
      String(minutes).padStart(2, '0') + ":" +
      String(seconds).padStart(2, '0')
    );
  }

  //counter updater for pause and resume
  function updateCounter() {
    document.getElementById("counter").innerText = formatTime(totalSeconds);
  }

function startCountdown() {
  // If there is already a timer running, stop it
  if (timer !== null && timer !== undefined) {
    clearInterval(timer);
  }

  // Make sure countdown is active, not paused
  isPaused = false;

  // Update the display before starting
  updateCounter();

  // Start a new timer that ticks every 1 second
  timer = setInterval(function() {
    // Only continue if the countdown is not paused
    if (isPaused === false) {
      // Subtract one second
      totalSeconds = totalSeconds - 1;

      // Update the display
      updateCounter();

      // If the countdown has reached zero or gone below zero
      if (totalSeconds <= 0) {
        // stop the timer
        clearInterval(timer);

        // Notify the user
        ;
      }
    }
  }, 1000);
}



  document.getElementById("start-btn").onclick = function() {
    totalSeconds = workSeconds; 
    startCountdown();
  };

  document.getElementById("pause-btn").onclick = function() {
    isPaused = !isPaused;
    this.innerText = isPaused ? "Resume" : "Pause";
  };

  window.onload = function() {
    updateCounter();
  };





  
</script>

</html>